# 🤖 自動交易機器人系統

## 系統特色

### 核心功能
- ✅ **冷啟動引擎**: 三階段學習（探索50筆→開發200筆→成熟階段）
- ✅ **實時特徵計算**: 12個ICT/SMC特徵 + 4個合成特徵
- ✅ **WebSocket管理**: 超低延遲(<100ms)市場數據
- ✅ **機器學習**: XGBoost自動訓練和優化
- ✅ **風險管理**: 多層風險控制和熔斷機制
- ✅ **性能評分**: 5維度綜合評估
- ✅ **Web儀表板**: 實時監控和數據可視化

### 技術棧
- Python 3.11
- XGBoost (機器學習)
- Binance API (交易執行)
- SQLite (數據持久化)
- Flask + SocketIO (Web界面)
- Asyncio (異步處理)

## 快速開始

### 1. 安裝依賴
```bash
pip install -r requirements.txt
```

### 2. 配置環境（模擬交易）
系統默認運行在模擬交易模式，無需API密鑰即可運行。

### 3. 啟動系統
```bash
python main.py
```

### 4. 訪問儀表板
打開瀏覽器訪問: `http://localhost:5000`

## 系統架構

```
├── config/          # 所有配置文件
├── core/            # 核心交易引擎
├── database/        # 數據持久化
├── trading/         # Binance交易執行
├── utils/           # 工具函數
├── web/             # Web儀表板
└── main.py          # 主程序入口
```

## 配置說明

### 交易模式
- **模擬交易** (默認): `PAPER_TRADING=True`
- **實盤交易**: 需要設置 `BINANCE_API_KEY` 和 `BINANCE_API_SECRET`

### 風險參數
- 最大槓桿: 125倍（冷啟動期3倍）
- 單筆風險: 2%
- 每日損失限額: 5%
- 最大回撤: 10%

### 學習階段
1. **探索階段** (0-50筆): 低門檻，高探索率
2. **開發階段** (50-200筆): 中等門檻，適度探索
3. **成熟階段** (200+筆): 高門檻，純開發

## 特徵說明

### ICT/SMC基礎特徵 (12個)
- 市場結構趨勢
- 訂單塊計數
- 機構蠟燭
- 流動性抓取
- 訂單流價值
- 公允價值缺口
- 趨勢對齊
- 擺動高點距離
- 結構完整性
- 機構參與度
- 時間框架收斂
- 流動性上下文

### 合成特徵 (4個)
- 多時間框架趨勢對齊
- 時間框架收斂度
- 流動性環境評估
- 結構完整性指標

## 安全提示

⚠️ **重要安全建議**
1. 從模擬交易開始測試
2. 實盤前充分驗證策略
3. 設置適當的風險限制
4. 定期監控系統性能
5. 備份重要數據

## 性能監控

系統提供多維度性能評估：
- **勝率得分** (35%權重)
- **信心準確度** (25%權重)
- **盈利因子** (20%權重)
- **一致性** (15%權重)
- **風險調整** (5%權重)

## 故障排除

### 常見問題
1. **WebSocket連接失敗**: 檢查網絡連接，系統會自動重連
2. **模型訓練失敗**: 需要至少50筆交易數據
3. **熔斷器啟動**: 連續虧損5筆後自動冷卻5分鐘

### 日誌查看
系統使用結構化日誌，所有重要事件都會記錄。

## 開發計劃

### 已完成 ✅
- [x] 核心交易引擎
- [x] 特徵計算系統
- [x] 機器學習模型
- [x] 風險管理系統
- [x] Web監控界面

### 未來計劃 📋
- [ ] 多策略組合管理
- [ ] 高級回測引擎
- [ ] Telegram通知
- [ ] 多交易所支持
- [ ] 分佈式部署

## 授權
本項目僅供學習和研究使用。

## 免責聲明
加密貨幣交易具有高風險，可能導致資金損失。使用本系統的一切後果由用戶自行承擔。
